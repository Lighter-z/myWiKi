<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="MingZhao">
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Git - MingZhao</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "1.\u5b89\u88c5\u5b8c\u6210\u540e\u7b2c\u4e00\u4ef6\u4e8b\u60c5", url: "#_top", children: [
          ]},
          {title: "2.\u521b\u5efa\u7248\u672c\u5e93", url: "#2", children: [
              {title: "2.1\u628a\u6574\u4e2a\u6587\u4ef6\u53d8\u4e3agit\u4ed3\u5e93", url: "#21git" },
              {title: "2.2\u628a\u6587\u4ef6\u6dfb\u52a0\u5230\u4ed3\u5e93", url: "#22" },
              {title: "2.3\u628a\u6587\u4ef6\u63d0\u4ea4\u5230\u4ed3\u5e93", url: "#23" },
          ]},
          {title: "4\u8fdc\u7a0b\u4ed3\u5e93", url: "#4", children: [
              {title: "4.2.1\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u514b\u9686", url: "#421" },
          ]},
          {title: "5.\u5206\u652f\u7ba1\u7406", url: "#5", children: [
              {title: "5.1\u521b\u5efa\u4e0e\u5408\u5e76\u5206\u652f", url: "#51" },
              {title: "5.2\u89e3\u51b3\u51b2\u7a81", url: "#52" },
              {title: "5.3\u5206\u652f\u7ba1\u7406\u7b56\u7565", url: "#53" },
              {title: "5.4Bug\u5206\u652f", url: "#54bug" },
              {title: "5.5feature\u5206\u652f", url: "#55feature" },
              {title: "5.6\u591a\u4eba\u534f\u4f5c", url: "#56" },
          ]},
          {title: "\u603b\u7ed3", url: "#_3", children: [
          ]},
          {title: "6.\u6807\u7b7e\u7ba1\u7406", url: "#6", children: [
              {title: "6.1\u521b\u5efa\u6807\u7b7e", url: "#61" },
              {title: "6.2\u64cd\u4f5c\u6807\u7b7e", url: "#62" },
          ]},
          {title: "\u5e38\u7528\u547d\u4ee4", url: "#_4", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
      <script src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script>
      <script src="../../js/umlconvert.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../001-Pr/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../001-Pr/" class="btn btn-xs btn-link">
        Pr
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../%E5%B5%8C%E5%85%A5%E5%BC%8F/01-emWin/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../%E5%B5%8C%E5%85%A5%E5%BC%8F/01-emWin/" class="btn btn-xs btn-link">
        emWin
      </a>
    </div>
    
  </div>

    

    <div class="toc">
<ul>
<li><a href="#1">1.安装完成后第一件事情</a></li>
<li><a href="#2">2.创建版本库</a><ul>
<li><a href="#21git">2.1把整个文件变为git仓库</a></li>
<li><a href="#22">2.2把文件添加到仓库</a></li>
<li><a href="#23">2.3把文件提交到仓库</a></li>
</ul>
</li>
<li><a href="#4">4远程仓库</a><ul>
<li><a href="#421">4.2.1从远程仓库克隆</a></li>
</ul>
</li>
<li><a href="#5">5.分支管理</a><ul>
<li><a href="#51">5.1创建与合并分支</a><ul>
<li><a href="#511dev">5.1.1创建并切换到dev分支</a></li>
<li><a href="#512">5.1.2查看当前分支</a></li>
<li><a href="#513master">5.1.3切换回master分支</a></li>
<li><a href="#514devmaster">5.1.4把dev分支合并到master分支</a></li>
<li><a href="#515dev">5.1.5删除dev分支</a></li>
</ul>
</li>
<li><a href="#52">5.2解决冲突</a><ul>
<li><a href="#521mastermaster">5.2.1分支与master都被修改并提交后，在分支与master合并时会出现冲突</a></li>
</ul>
</li>
<li><a href="#53">5.3分支管理策略</a><ul>
<li><a href="#531">5.3.1禁用快速合并模式</a></li>
</ul>
</li>
<li><a href="#54bug">5.4Bug分支</a><ul>
<li><a href="#541">5.4.1保存现场</a></li>
<li><a href="#542">5.4.2恢复现场</a></li>
<li><a href="#543">5.4.3恢复指定文件</a></li>
<li><a href="#_1">方法一：</a></li>
<li><a href="#_2">方法二：</a></li>
</ul>
</li>
<li><a href="#55feature">5.5feature分支</a></li>
<li><a href="#56">5.6多人协作</a><ul>
<li><a href="#561">5.6.1查看远程库信息</a></li>
<li><a href="#562">5.6.2推送分支</a></li>
<li><a href="#563">5.6.3抓取分支</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_3">总结</a></li>
<li><a href="#6">6.标签管理</a><ul>
<li><a href="#61">6.1创建标签</a><ul>
<li><a href="#611">6.1.1在对应分支创建标签</a></li>
<li><a href="#612commit">6.1.2根据commit创建标签</a></li>
<li><a href="#613">6.1.3查看标签信息</a></li>
</ul>
</li>
<li><a href="#62">6.2操作标签</a><ul>
<li><a href="#621">6.2.1删除标签</a></li>
<li><a href="#622">6.2.2将标签推送到远程</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_4">常用命令</a></li>
</ul>
</div>
<h4 id="1">1.安装完成后第一件事情<a class="headerlink" href="#1" title="Permanent link">#</a></h4>
<ul>
<li><code>git config --global user.name "Your Name"</code>   </li>
<li><code>git config --global user.email "email@example.com"</code>  </li>
<li><code>ssh-keygen -t rsa -C "1106606588@qq.com"</code>创建ssh，key（一路回车）</li>
</ul>
<h4 id="2">2.创建版本库<a class="headerlink" href="#2" title="Permanent link">#</a></h4>
<h5 id="21git">2.1把整个文件变为git仓库<a class="headerlink" href="#21git" title="Permanent link">#</a></h5>
<ul>
<li><code>git init</code>  </li>
</ul>
<h5 id="22">2.2把文件添加到仓库<a class="headerlink" href="#22" title="Permanent link">#</a></h5>
<ul>
<li><code>git add "文件名"</code>     </li>
</ul>
<h5 id="23">2.3把文件提交到仓库<a class="headerlink" href="#23" title="Permanent link">#</a></h5>
<ul>
<li><code>git commit -m "本次提交说明"</code>     </li>
</ul>
<h4 id="4">4远程仓库<a class="headerlink" href="#4" title="Permanent link">#</a></h4>
<h6 id="421">4.2.1从远程仓库克隆<a class="headerlink" href="#421" title="Permanent link">#</a></h6>
<ul>
<li><code>git clone "仓库链接"</code>   </li>
</ul>
<h4 id="5">5.分支管理<a class="headerlink" href="#5" title="Permanent link">#</a></h4>
<h5 id="51">5.1创建与合并分支<a class="headerlink" href="#51" title="Permanent link">#</a></h5>
<h6 id="511dev">5.1.1创建并切换到dev分支<a class="headerlink" href="#511dev" title="Permanent link">#</a></h6>
<ul>
<li><code>git checkout -b dev</code>    <blockquote>
<p>注：git checkout 命令加上 -b参数 表示创建并切换，相当于以下两条命令：<br />
* <code>git branch dev</code><br />
* <code>git checkout dev</code>  </p>
</blockquote>
</li>
</ul>
<h6 id="512">5.1.2查看当前分支<a class="headerlink" href="#512" title="Permanent link">#</a></h6>
<ul>
<li><code>git branch</code>  <blockquote>
<p>注：git branch命令会列出所有分支，当前分支前面会标一个*号     </p>
</blockquote>
</li>
</ul>
<h6 id="513master">5.1.3切换回master分支<a class="headerlink" href="#513master" title="Permanent link">#</a></h6>
<ul>
<li><code>git checkout master</code>  </li>
</ul>
<h6 id="514devmaster">5.1.4把dev分支合并到master分支<a class="headerlink" href="#514devmaster" title="Permanent link">#</a></h6>
<ul>
<li><code>git merge dev</code>  <blockquote>
<p>注：此时在master中查看，与5.1.1中描述的不同，文件的修改已经同步     </p>
</blockquote>
</li>
</ul>
<h6 id="515dev">5.1.5删除dev分支<a class="headerlink" href="#515dev" title="Permanent link">#</a></h6>
<ul>
<li><code>git branch -d dev</code>  <blockquote>
<p>注：删除后，查看branch，就只剩下master分支     </p>
</blockquote>
</li>
</ul>
<h5 id="52">5.2解决冲突<a class="headerlink" href="#52" title="Permanent link">#</a></h5>
<h6 id="521mastermaster">5.2.1分支与master都被修改并提交后，在分支与master合并时会出现冲突<a class="headerlink" href="#521mastermaster" title="Permanent link">#</a></h6>
<p>1.<code>git status</code> 命令会告知冲突文件  <br />
2. 可直接打开文件，git会用 &lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;标记出不同分支的内容手动修改之后，再次进行提交 <br />
  3.<code>git log --graph --pretty=oneline --abbrev-commit</code>可看到分支合并情况  </p>
<h5 id="53">5.3分支管理策略<a class="headerlink" href="#53" title="Permanent link">#</a></h5>
<h6 id="531">5.3.1禁用快速合并模式<a class="headerlink" href="#531" title="Permanent link">#</a></h6>
<ul>
<li><code>git merge --no-ff -m "提交说明" dev</code><br />
  （1）&ndash;no-ff参数，表示禁用Fast forward <br />
  （2）Fast forward 模式下，删除分支后，会丢掉分支信息 <br />
  （3）禁用Fast forward 模式，git会在merge时生成一个新的commit，在历史分支上就可看到分支信息   </li>
</ul>
<h5 id="54bug">5.4Bug分支<a class="headerlink" href="#54bug" title="Permanent link">#</a></h5>
<h6 id="541">5.4.1保存现场<a class="headerlink" href="#541" title="Permanent link">#</a></h6>
<ul>
<li><code>git stash</code> <br />
  可把当前工作现场“储存”起来，然后切到其他分支进行Bug修复  </li>
<li><code>git stash list</code>  <br />
  查看之前“储存”的工作现场在什么地方   </li>
</ul>
<h6 id="542">5.4.2恢复现场<a class="headerlink" href="#542" title="Permanent link">#</a></h6>
<ul>
<li><code>git stash apply</code><br />
  恢复后，stash内容并不删除,需要用git stash drop来删除     </li>
<li><code>git stash pop</code><br />
  恢复的同时把stash内容也删了     </li>
</ul>
<h6 id="543">5.4.3恢复指定文件<a class="headerlink" href="#543" title="Permanent link">#</a></h6>
<h6 id="_1">方法一：<a class="headerlink" href="#_1" title="Permanent link">#</a></h6>
<ul>
<li><code>git stash apply stash@{0}</code>      <blockquote>
<p>注：若在dev上工作，修改Bug时，切换到master上修复。      <br />
    想在dev上同步master上修复过的Bug：   </p>
</blockquote>
</li>
<li><code>git cherry-pick &lt;commit&gt;</code>   <blockquote>
<p>例：  <br />
  git cherry-pick 4c805e2  <br />
  4c805e2：是在使用git commit -m &ldquo;&rdquo;时产生的信息    </p>
</blockquote>
</li>
</ul>
<h6 id="_2">方法二：<a class="headerlink" href="#_2" title="Permanent link">#</a></h6>
<p>可直接在dev上进行Bug修复，然后提交在主分支。<br />
以上两种都需要在修改Bug之前使用 git stash 进行现场“储存”  </p>
<h5 id="55feature">5.5feature分支<a class="headerlink" href="#55feature" title="Permanent link">#</a></h5>
<p>若feature分支还未合并便要删除，此时要强行删除分支   <br />
* <code>git branch -D &lt;name&gt;</code>   </p>
<h5 id="56">5.6多人协作<a class="headerlink" href="#56" title="Permanent link">#</a></h5>
<h6 id="561">5.6.1查看远程库信息<a class="headerlink" href="#561" title="Permanent link">#</a></h6>
<ul>
<li><code>git remote origin</code>   </li>
<li><code>git remote -v</code>  </li>
</ul>
<h6 id="562">5.6.2推送分支<a class="headerlink" href="#562" title="Permanent link">#</a></h6>
<ul>
<li><code>git push origin &lt;分支名&gt;</code><br />
  例：  </li>
<li><code>git push origin master</code>  </li>
<li><code>git push origin dev</code>    </li>
</ul>
<hr />
<p><strong>git</strong> <strong>push</strong> <strong>origin</strong> <strong>master报错</strong>     </p>
<p>第一种解决方法(不要轻易使用)
加上 -f，强制推送上去，这时你的GitHub上的库会以本地同步              <br />
* <code>git push -f</code>          <br />
  第二种解决方法（推荐）
  使用git pull &ndash;rebase origin master合并 GitHub 和 本地 的库，本地会多出之前不同步的文件，在使用 git push -u origin master 推送到 GitHub 库中。     <br />
* <code>git pull --rebase origin master</code>       <br />
* <code>git push origin master</code>         </p>
<hr />
<ol>
<li>master分支是主分支，因此要时刻与远程同步；  </li>
<li>dev分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步；  </li>
<li>bug分支只用于在本地修复bug，就没必要推到远程了，除非老板要看看你每周到底修复了几个bug；  </li>
<li>feature分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发。   </li>
</ol>
<h6 id="563">5.6.3抓取分支<a class="headerlink" href="#563" title="Permanent link">#</a></h6>
<ol>
<li>如果推送失败：（别人也对分支进行了修改）   <br />
  先用git pull把最新的提交从origin/dev抓下来，然后，在本地合并，解决冲突，再推送    </li>
<li>如果git pull也失败：   <br />
  原因是没有指定本地dev分支与远程origin/dev分支的链接，根据提示，设置dev和origin/dev的链接   <br />
  git branch &ndash;set-upstream-to <branch-name> origin/<branch-name>     </li>
</ol>
<h4 id="_3">总结<a class="headerlink" href="#_3" title="Permanent link">#</a></h4>
<p>总结：
1. 首先，可以试图用git push origin <branch-name>推送自己的修改；      <br />
2. 如果推送失败，则因为远程分支比你的本地更新，需要先用git pull试图合并；      <br />
3. 如果合并有冲突，则解决冲突，并在本地提交；      <br />
4. 没有冲突或者解决掉冲突后，再用git push origin <branch-name>推送就能成功！      <br />
   如果git pull提示no tracking information，则说明本地分支和远程分支的链接关系没有创建，      <br />
   用命令git branch &ndash;set-upstream-to <branch-name> origin/<branch-name>。        </p>
<h4 id="6">6.标签管理<a class="headerlink" href="#6" title="Permanent link">#</a></h4>
<h5 id="61">6.1创建标签<a class="headerlink" href="#61" title="Permanent link">#</a></h5>
<h6 id="611">6.1.1在对应分支创建标签<a class="headerlink" href="#611" title="Permanent link">#</a></h6>
<ul>
<li><code>git tag &lt;name&gt;</code>     </li>
</ul>
<h6 id="612commit">6.1.2根据commit创建标签<a class="headerlink" href="#612commit" title="Permanent link">#</a></h6>
<ul>
<li><code>git tag v0.9 f52c633</code>   <blockquote>
<p>注：
可以创建带有说明的标签，用-a指定标签名，-m指定说明文字            <br />
git tag -a v0.1 -m &ldquo;version 0.1 released&rdquo; 1094adb       <br />
1094adb：可写可不写          </p>
</blockquote>
</li>
</ul>
<h6 id="613">6.1.3查看标签信息<a class="headerlink" href="#613" title="Permanent link">#</a></h6>
<ul>
<li><code>git show &lt;tagname&gt;</code>  </li>
</ul>
<h5 id="62">6.2操作标签<a class="headerlink" href="#62" title="Permanent link">#</a></h5>
<h6 id="621">6.2.1删除标签<a class="headerlink" href="#621" title="Permanent link">#</a></h6>
<p>（1）删除本地标签        <br />
* <code>git tag -d &lt;tagname&gt;</code> <br />
  （2）删除远程标签     <br />
  先从本地删除  <br />
* <code>git tag -d &lt;tagname&gt;</code><br />
  删除远程 <br />
* <code>git push origin :refs/tags/&lt;tagname&gt;</code>  </p>
<h6 id="622">6.2.2将标签推送到远程<a class="headerlink" href="#622" title="Permanent link">#</a></h6>
<ul>
<li><code>git push origin &lt;tagname&gt;</code>  <br />
  一次全部推完   </li>
<li><code>git push origin --tags</code>  </li>
</ul>
<h4 id="_4">常用命令<a class="headerlink" href="#_4" title="Permanent link">#</a></h4>
<p>git status : 查看当前仓库中文件的状态。  <br />
git status -s : 文件状态的简写（M - 修改， A - 添加， D - 删除， R - 重命名，?? - 未追踪）。  <br />
git add &lt;文件名&gt; ：将后方紧跟的文件进行暂存，以便commit使用。  <br />
git reset HEAD &lt;文件名&gt; : 将已经暂存的文件进行撤销，回到未暂存的状态。  <br />
git checkout &ndash; &lt;文件名&gt; ：撤销对尚未暂存文件的修改，该操作不可逆，慎用。  <br />
git commit -a : 对那些被修改的文件单尚未暂存和提交的文件进行暂存和提交。注意：对未暂存的新增文件无效。  <br />
git commit : 对暂存区的文件进行提交到本地仓库。  <br />
git push : 将本地仓库已经提交的内容发布到远端。  <br />
git log : 查看提交历史，记录    </p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../001-Pr/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../001-Pr/" class="btn btn-xs btn-link">
        Pr
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../%E5%B5%8C%E5%85%A5%E5%BC%8F/01-emWin/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../%E5%B5%8C%E5%85%A5%E5%BC%8F/01-emWin/" class="btn btn-xs btn-link">
        emWin
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/Lighter-z/myWiKi/edit/master/docs/软件使用/000-git.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>